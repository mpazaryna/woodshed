# Trading Kit FastAPI

This project provides a FastAPI wrapper for the trading_kit analysis functions.

## Setup

1. Ensure you have Python 3.10 and Poetry installed.
2. Clone this repository:
   ```
   git clone https://github.com/yourusername/trading_kit_fastapi.git
   cd trading_kit_fastapi
   ```
3. Install dependencies:
   ```
   poetry install
   ```

## Running the Application

To run the FastAPI application:

```
poetry run uvicorn src.main:app --reload
```

The API will be available at `http://localhost:8000`.

## API Endpoints

### POST /analyze_stock_trends

Analyze stock trends based on provided historical data.

Request body:
```json
{
  "company_name": "Test Corp",
  "dates": [
    "2023-01-01", "2023-01-02", "2023-01-03", "2023-01-04", "2023-01-05",
    "2023-01-06", "2023-01-07", "2023-01-08", "2023-01-09", "2023-01-10",
    "2023-01-11", "2023-01-12", "2023-01-13", "2023-01-14", "2023-01-15",
    "2023-01-16", "2023-01-17", "2023-01-18", "2023-01-19", "2023-01-20",
    "2023-01-21", "2023-01-22", "2023-01-23", "2023-01-24", "2023-01-25",
    "2023-01-26", "2023-01-27", "2023-01-28", "2023-01-29", "2023-01-30",
    "2023-01-31", "2023-02-01", "2023-02-02", "2023-02-03", "2023-02-04",
    "2023-02-05", "2023-02-06", "2023-02-07", "2023-02-08", "2023-02-09",
    "2023-02-10", "2023-02-11", "2023-02-12", "2023-02-13", "2023-02-14",
    "2023-02-15", "2023-02-16", "2023-02-17", "2023-02-18", "2023-02-19",
    "2023-02-20", "2023-02-21", "2023-02-22", "2023-02-23", "2023-02-24",
    "2023-02-25", "2023-02-26", "2023-02-27", "2023-02-28", "2023-03-01",
    "2023-03-02", "2023-03-03", "2023-03-04", "2023-03-05", "2023-03-06",
    "2023-03-07", "2023-03-08", "2023-03-09", "2023-03-10", "2023-03-11",
    "2023-03-12", "2023-03-13", "2023-03-14", "2023-03-15", "2023-03-16",
    "2023-03-17", "2023-03-18", "2023-03-19", "2023-03-20", "2023-03-21",
    "2023-03-22", "2023-03-23", "2023-03-24", "2023-03-25", "2023-03-26",
    "2023-03-27", "2023-03-28", "2023-03-29", "2023-03-30", "2023-03-31",
    "2023-04-01", "2023-04-02", "2023-04-03", "2023-04-04", "2023-04-05",
    "2023-04-06", "2023-04-07", "2023-04-08", "2023-04-09", "2023-04-10"
  ],
  "prices": [
    100.00, 100.50, 100.91, 100.24, 100.76, 101.08, 101.83, 101.75, 101.42, 102.73,
    102.76, 103.71, 103.73, 103.11, 103.42, 103.35, 103.09, 104.38, 105.25, 105.35,
    105.53, 105.17, 105.41, 104.52, 104.11, 103.41, 103.46, 103.58, 103.46, 102.65,
    102.20, 102.25, 101.94, 102.32, 102.04, 101.89, 102.39, 102.95, 103.04, 102.51,
    103.81, 104.38, 104.49, 104.10, 104.38, 104.96, 106.16, 106.27, 106.50, 106.54,
    106.98, 107.67, 107.01, 106.88, 107.14, 107.19, 107.20, 108.16, 108.76, 109.61,
    110.37, 111.00, 111.62, 111.10, 110.93, 110.94, 110.98, 111.88, 112.24, 113.39,
    113.60, 113.75, 114.17, 114.25, 114.36, 114.62, 114.90, 115.26, 115.42, 115.18,
    115.14, 115.53, 115.49, 115.98, 116.46, 116.48, 116.99, 116.93, 116.95, 117.43,
    117.48, 117.51, 117.84, 117.82, 117.66, 117.33, 117.92, 118.13, 118.25, 118.42
  ],
  "short_window": 10,
  "long_window": 30,
  "precision": 2
}
```

Response:
```json
{
    "company_name": "Test Corp",
    "short_wma": {
        "2023-01-01": null,
        "2023-01-02": null,
        "2023-01-03": null,
        "2023-01-04": null,
        "2023-01-05": null,
        "2023-01-06": null,
        "2023-01-07": null,
        "2023-01-08": null,
        "2023-01-09": null,
        "2023-01-10": 101.49,
        "2023-01-11": 101.79,
        "2023-01-12": 102.21,
        "2023-01-13": 102.57,
        "2023-01-14": 102.77,
        "2023-01-15": 102.98,
        "2023-01-16": 103.12,
        "2023-01-17": 103.18,
        "2023-01-18": 103.45,
        "2023-01-19": 103.83,
        "2023-01-20": 104.15,
        "2023-01-21": 104.47,
        "2023-01-22": 104.66,
        "2023-01-23": 104.87,
        "2023-01-24": 104.89,
        "2023-01-25": 104.82,
        "2023-01-26": 104.6,
        "2023-01-27": 104.38,
        "2023-01-28": 104.19,
        "2023-01-29": 103.99,
        "2023-01-30": 103.67,
        "2023-01-31": 103.32,
        "2023-02-01": 103.03,
        "2023-02-02": 102.75,
        "2023-02-03": 102.6,
        "2023-02-04": 102.43,
        "2023-02-05": 102.28,
        "2023-02-06": 102.25,
        "2023-02-07": 102.33,
        "2023-02-08": 102.45,
        "2023-02-09": 102.48,
        "2023-02-10": 102.74,
        "2023-02-11": 103.08,
        "2023-02-12": 103.4,
        "2023-02-13": 103.6,
        "2023-02-14": 103.82,
        "2023-02-15": 104.11,
        "2023-02-16": 104.56,
        "2023-02-17": 104.96,
        "2023-02-18": 105.34,
        "2023-02-19": 105.66,
        "2023-02-20": 105.99,
        "2023-02-21": 106.39,
        "2023-02-22": 106.61,
        "2023-02-23": 106.76,
        "2023-02-24": 106.9,
        "2023-02-25": 107.01,
        "2023-02-26": 107.08,
        "2023-02-27": 107.3,
        "2023-02-28": 107.6,
        "2023-03-01": 108.01,
        "2023-03-02": 108.5,
        "2023-03-03": 109.04,
        "2023-03-04": 109.64,
        "2023-03-05": 110.06,
        "2023-03-06": 110.37,
        "2023-03-07": 110.62,
        "2023-03-08": 110.8,
        "2023-03-09": 111.08,
        "2023-03-10": 111.36,
        "2023-03-11": 111.78,
        "2023-03-12": 112.17,
        "2023-03-13": 112.53,
        "2023-03-14": 112.92,
        "2023-03-15": 113.27,
        "2023-03-16": 113.59,
        "2023-03-17": 113.89,
        "2023-03-18": 114.18,
        "2023-03-19": 114.46,
        "2023-03-20": 114.71,
        "2023-03-21": 114.86,
        "2023-03-22": 114.96,
        "2023-03-23": 115.11,
        "2023-03-24": 115.22,
        "2023-03-25": 115.4,
        "2023-03-26": 115.63,
        "2023-03-27": 115.83,
        "2023-03-28": 116.08,
        "2023-03-29": 116.29,
        "2023-03-30": 116.47,
        "2023-03-31": 116.71,
        "2023-04-01": 116.92,
        "2023-04-02": 117.09,
        "2023-04-03": 117.28,
        "2023-04-04": 117.43,
        "2023-04-05": 117.52,
        "2023-04-06": 117.52,
        "2023-04-07": 117.61,
        "2023-04-08": 117.73,
        "2023-04-09": 117.85,
        "2023-04-10": 117.97
    },
    "long_wma": {
        "2023-01-01": null,
        "2023-01-02": null,
        "2023-01-03": null,
        "2023-01-04": null,
        "2023-01-05": null,
        "2023-01-06": null,
        "2023-01-07": null,
        "2023-01-08": null,
        "2023-01-09": null,
        "2023-01-10": null,
        "2023-01-11": null,
        "2023-01-12": null,
        "2023-01-13": null,
        "2023-01-14": null,
        "2023-01-15": null,
        "2023-01-16": null,
        "2023-01-17": null,
        "2023-01-18": null,
        "2023-01-19": null,
        "2023-01-20": null,
        "2023-01-21": null,
        "2023-01-22": null,
        "2023-01-23": null,
        "2023-01-24": null,
        "2023-01-25": null,
        "2023-01-26": null,
        "2023-01-27": null,
        "2023-01-28": null,
        "2023-01-29": null,
        "2023-01-30": 103.7,
        "2023-01-31": 103.64,
        "2023-02-01": 103.59,
        "2023-02-02": 103.51,
        "2023-02-03": 103.46,
        "2023-02-04": 103.38,
        "2023-02-05": 103.29,
        "2023-02-06": 103.23,
        "2023-02-07": 103.2,
        "2023-02-08": 103.18,
        "2023-02-09": 103.12,
        "2023-02-10": 103.14,
        "2023-02-11": 103.2,
        "2023-02-12": 103.27,
        "2023-02-13": 103.3,
        "2023-02-14": 103.36,
        "2023-02-15": 103.45,
        "2023-02-16": 103.61,
        "2023-02-17": 103.77,
        "2023-02-18": 103.95,
        "2023-02-19": 104.12,
        "2023-02-20": 104.32,
        "2023-02-21": 104.56,
        "2023-02-22": 104.76,
        "2023-02-23": 104.94,
        "2023-02-24": 105.13,
        "2023-02-25": 105.32,
        "2023-02-26": 105.5,
        "2023-02-27": 105.74,
        "2023-02-28": 106.0,
        "2023-03-01": 106.31,
        "2023-03-02": 106.66,
        "2023-03-03": 107.02,
        "2023-03-04": 107.41,
        "2023-03-05": 107.74,
        "2023-03-06": 108.04,
        "2023-03-07": 108.33,
        "2023-03-08": 108.6,
        "2023-03-09": 108.9,
        "2023-03-10": 109.21,
        "2023-03-11": 109.58,
        "2023-03-12": 109.94,
        "2023-03-13": 110.28,
        "2023-03-14": 110.63,
        "2023-03-15": 110.97,
        "2023-03-16": 111.29,
        "2023-03-17": 111.6,
        "2023-03-18": 111.92,
        "2023-03-19": 112.23,
        "2023-03-20": 112.54,
        "2023-03-21": 112.82,
        "2023-03-22": 113.07,
        "2023-03-23": 113.33,
        "2023-03-24": 113.57,
        "2023-03-25": 113.83,
        "2023-03-26": 114.09,
        "2023-03-27": 114.34,
        "2023-03-28": 114.6,
        "2023-03-29": 114.83,
        "2023-03-30": 115.05,
        "2023-03-31": 115.28,
        "2023-04-01": 115.5,
        "2023-04-02": 115.7,
        "2023-04-03": 115.92,
        "2023-04-04": 116.11,
        "2023-04-05": 116.28,
        "2023-04-06": 116.42,
        "2023-04-07": 116.58,
        "2023-04-08": 116.74,
        "2023-04-09": 116.89,
        "2023-04-10": 117.04
    },
    "signals": {
        "2023-01-01": null,
        "2023-01-02": null,
        "2023-01-03": null,
        "2023-01-04": null,
        "2023-01-05": null,
        "2023-01-06": null,
        "2023-01-07": null,
        "2023-01-08": null,
        "2023-01-09": null,
        "2023-01-10": null,
        "2023-01-11": null,
        "2023-01-12": null,
        "2023-01-13": null,
        "2023-01-14": null,
        "2023-01-15": null,
        "2023-01-16": null,
        "2023-01-17": null,
        "2023-01-18": null,
        "2023-01-19": null,
        "2023-01-20": null,
        "2023-01-21": null,
        "2023-01-22": null,
        "2023-01-23": null,
        "2023-01-24": null,
        "2023-01-25": null,
        "2023-01-26": null,
        "2023-01-27": null,
        "2023-01-28": null,
        "2023-01-29": null,
        "2023-01-30": -1,
        "2023-01-31": -1,
        "2023-02-01": -1,
        "2023-02-02": -1,
        "2023-02-03": -1,
        "2023-02-04": -1,
        "2023-02-05": -1,
        "2023-02-06": -1,
        "2023-02-07": -1,
        "2023-02-08": -1,
        "2023-02-09": -1,
        "2023-02-10": -1,
        "2023-02-11": -1,
        "2023-02-12": 1,
        "2023-02-13": 1,
        "2023-02-14": 1,
        "2023-02-15": 1,
        "2023-02-16": 1,
        "2023-02-17": 1,
        "2023-02-18": 1,
        "2023-02-19": 1,
        "2023-02-20": 1,
        "2023-02-21": 1,
        "2023-02-22": 1,
        "2023-02-23": 1,
        "2023-02-24": 1,
        "2023-02-25": 1,
        "2023-02-26": 1,
        "2023-02-27": 1,
        "2023-02-28": 1,
        "2023-03-01": 1,
        "2023-03-02": 1,
        "2023-03-03": 1,
        "2023-03-04": 1,
        "2023-03-05": 1,
        "2023-03-06": 1,
        "2023-03-07": 1,
        "2023-03-08": 1,
        "2023-03-09": 1,
        "2023-03-10": 1,
        "2023-03-11": 1,
        "2023-03-12": 1,
        "2023-03-13": 1,
        "2023-03-14": 1,
        "2023-03-15": 1,
        "2023-03-16": 1,
        "2023-03-17": 1,
        "2023-03-18": 1,
        "2023-03-19": 1,
        "2023-03-20": 1,
        "2023-03-21": 1,
        "2023-03-22": 1,
        "2023-03-23": 1,
        "2023-03-24": 1,
        "2023-03-25": 1,
        "2023-03-26": 1,
        "2023-03-27": 1,
        "2023-03-28": 1,
        "2023-03-29": 1,
        "2023-03-30": 1,
        "2023-03-31": 1,
        "2023-04-01": 1,
        "2023-04-02": 1,
        "2023-04-03": 1,
        "2023-04-04": 1,
        "2023-04-05": 1,
        "2023-04-06": 1,
        "2023-04-07": 1,
        "2023-04-08": 1,
        "2023-04-09": 1,
        "2023-04-10": 1
    },
    "summary": {
        "1": 58,
        "-1": 13
    }
}
```

## Testing

To run tests:

```
poetry run pytest
```

## API Docs

```
http://localhost:8000/docs
```


## Contributing

Please refer to the CONTRIBUTING.md file for guidelines on how to contribute to this project.

## License

This project is licensed under the MIT License - see the LICENSE file for details.